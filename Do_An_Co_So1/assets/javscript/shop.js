
let ListProduct = [
    {
        id: 5,
        name: 'Bánh Táo Mỹ',
        description: 'Bên ngoài được nướng nên có vỏ bánh có màu vàng nâu, thơm mùi bơ và giòn tan.',
        assess: '😍😍😍😒😒',
        sold: 'Đã bán: 11,2 k',
        money: '88.000 ',
        Image: 'image/banh-tao-My.jpg'
    },
    {
        id: 6,
        name: 'Bánh Donut Mỹ',
        description: 'Bề mặt bánh thường được phủ lên một lớp socola, trang trí thêm kem, dừa sấy, cốm.',
        assess:'😍😍😍😍😒',
        sold: 'Đã bán: 24,2 k',
        money: '10.000 ',
        Image: 'image/banh-Donut.jpg'
    },
    {
        id: 7,
        name: 'Bánh Tiramisu Ý',
        description: 'Những lớp bánh quy xen kẽ với các lớp kem phô mai, bên ngoài được phủ bột ca cao hoặc cà phê.',
        assess: '😍😍😍😍😒',
        sold: 'Đã bán: 3,2 k',
        money: '55.500 ',
        Image: 'image/Banh-Bánh Tiramisu Ý.jpg'
    },
    {
        id: 8,
        name: 'Bánh Mochi Nhật Bản',
        description: 'Đây là loại bánh nhân ngọt, được làm từ gạo nếp dẻo thơm, vỏ bánh mềm dai. Bánh có nhiều vị tuyệt vời',
        assess: '😍😍😍😍😍',
        sold: 'Đã bán: 100,2 k',
        money: '24.600 ',
        Image: 'image/banh-mochi.jpg'
    },
    {
        id: 9,
        name: 'Bánh Black Forest Đức',
        description: 'Được tạo từ nhiều lớp cốt bánh chocolate phủ kem, rượu anh đào được phủ lớp chocolate bào mỏng.',
        assess: '😍😍😍😍😒',
        sold: 'Đã bán: 4,2 k',
        money: '199.000',
        Image: 'image/banh-Bánh Black Forest Đức.jpg'
    },
    {
        id: 10,
        name: 'Bánh Limburg Pie Hà Lan',
        description: 'Với phần nhân bánh là trái cây thanh mát và sự mềm mại của cốt bánh, hương thơm của sữa.',
        assess: '😍😍😍😒😒',
        sold: 'Đã bán: 21,2 k',
        money: '15.000',
        Image: 'image/banh- Limburg Pie Hà Lan.jpg'
    },
    {
        id: 11,
        name: 'Bánh Pavlova Úc',
        description: 'Lớp vỏ bánh được phủ đầy kem và trái cây, vậy nên khi nhìn vào sẽ thấy vị ngọt béo, mát lạnh tràn đầy.',
        assess: '😍😍😒😒😒 ',
        sold: 'Đã bán: 10,2 k',
        money: '200.000',
        Image: 'image/banh-Pavlova Úc.jpg'
    },
    {
        id: 12,
        name: 'Bánh Cheesecake New York',
        description: 'Bánh có cấu tạo dạng đặc, mềm mịn với hương vị của đậm đà, ngọt ngào là sự kết hợp hài hoà với các thành phần.',
        assess: '😍😍😍😒😒',
        sold: 'Đã bán: 11,2 k',
        money: '1000.000',
        Image: 'image/banh-Cheesecake New York.jpg'
    },
    {
        id: 13,
        name: 'Bánh phô mai chanh dây',
        description: 'Bánh làm từ bông lan vani, lớp kem mousse gồm phô mai (cream cheese), kem tươi whipping, ngon tuyệt.',
        assess: '😍😍😍😍😍 ',
        sold: 'Đã bán: 21,2 k',
        money: '200.000',
        Image: 'image/Banh-pho-mai-chanh-day.jpg'
    },
    {
        id: 14,
        name: 'Bánh Madeleines',
        description: 'Bánh có nguồn gốc từ nước Pháp và gọi bánh sò, làm từ bơ, sữa và đường sau đó nướng nhẹ trong lò nướng.',
        assess: '😍😍😍😒😒',
        sold: 'Đã bán: 11,2 k',
        money: '35.000 ',
        Image: 'image/Banh-Madeleines.jpg'
    },
    {
        id: 15,
        name: 'Bánh Swedish Princess',
        description: 'Chiếc bánh này vốn được sinh ra để phục vụ những bữa tiệc hoàng gia.Với Hương vị lôi cuốn đậm đà',
        assess: '😍😍😍😒😒',
        sold: 'Đã bán: 11,2 k',
        money: '1000.000 ',
        Image: 'image/Banh-Swedish-Princess.jpg'
    },
    {
        id: 16,
        name: 'Bánh khúc cây',
        description: 'Bánh khúc cây được trang trí công phu, cuộn tròn và đầy ắp này phủ một lớp kem bơ socola trông giống như vỏ cây.',
        assess: '😍😍😍😍😍',
        sold: 'Đã bán: 11,2 k',
        money: '98.000',
        Image: 'image/banh_cay-khuc.jpg'
    },
    {
        id: 17,
        name: 'Bánh Kladdkaka',
        description: 'Loại bánh ngọt ngon nhất thế giới với sự kết hợp sáng tạo giữa trứng, cacao (hoặc socola),bơ,đường và bột mì.',
        assess:'😍😍😍😍😍',
        sold: 'Đã bán: 4,2 k',
        money: '250.990',
        Image: 'image/banh_Kladdkaka.jpg'
    },
    {
        id: 18,
        name: 'Bánh phô mai',
        description: 'Là một trong những loại bánh ngọt ngon nhất thế giới.Với lớp vỏ trồng mềm mịn và hương vị thơm mùi sữa.',
        assess: '😍😍😍😍😒 ',
        sold: 'Đã bán: 48,2 k',
        money: '50.591',
        Image: 'https://daylambanh.edu.vn/wp-content/uploads/2021/06/cach-lam-banh-bong-lan-pho-mai-nhat-ban.jpg'
    },
    {
        id: 19,
        name: 'Bánh Lamington',
        description: 'Bánh này được tạo ra một cách tình cờ và sự vô tình của chủ chiếc bánh rơi vào socola nóng chảy.',
        assess: '😍😍😍😍😍',
        sold: 'Đã bán: 100,2 k',
        money: '240.600',
        Image: 'image/banh_Lamington.jpg'
    },
    {
        id: 20,
        name: 'Bánh Ciambella',
        description: 'Ciambella là một loại bánh ngọt ngon nhất thế giới có hình nhẫn truyền thống của Ý có hương vị vỏ chanh.',
        assess: '😍😍😍😍😍 ',
        sold: 'Đã bán: 100,2 k',
        money: '245.600 ',
        Image:  'image/banh_Ciambella.jpg'
    },
    {
        id: 21,
        name: 'Bánh Mochi Nhật Bản',
        description: 'Đây là loại bánh nhân ngọt, được làm từ gạo nếp dẻo thơm, vỏ bánh mềm dai. Bánh có nhiều vị tuyệt vời.',
        assess: '😍😍😍😍😍 ',
        sold: 'Đã bán: 100,2 k',
        money: '24.600 ',
        Image:  'image/banh-mochi.jpg'
    },
    {
        id: 22,
        name: 'Bánh Red Velvet',
        description: 'Bánh Red Velvet thường được phủ thêm lớp kem bơ roux kiểu Pháp và kem bơ được mọi người thích thú.',
        assess: '😍😍😍😍😍 ',
        sold: 'Đã bán: 100,2 k',
        money: '24.600 ',
        Image:  'image/banh_Red Velvet.jpg'
    },
    {
        id: 23,
        name: 'Bánh MKrémes',
        description: 'Loại bánh ngọt ngon nhất thế giới. Với bề ngoài được phủ một lớp bột mỏng giúp giảng đi vị ngáy trong bánh.',
        assess: '😍😍😍😍😒',
        sold: 'Đã bán: 100,2 k',
        money: '160.600 ',
        Image:  'image/banh_Krémes.jpg'
    },
    {
        id:24,
        name: 'Bánh Sernik',
        description: 'Đây là loại bánh nhân ngọt, được làm từ gạo nếp dẻo thơm, vỏ bánh mềm dai. Bánh có nhiều vị tuyệt vời.',
        assess: '😍😍😍😍😍 ',
        sold: 'Đã bán: 100,2 k',
        money: '24.600 ',
        Image:  'image/banh_Sernik.jpg'
    },
    {
        id: 25,
        name: 'Bánh Medovik',
        description: 'Là bánh mật ong nhiều lớp bao gồm những miếng xốp và được tẩm mật ong và được phủ một lớp kem mỏng',
        assess: '😍😍😍😍😒 ',
        sold: 'Đã bán: 180,2 k',
        money: '240.600 ',
        Image:  'image/banh_Medovik.jpg'
    },
    {
        id: 26,
        name: 'Bánh Pound Cake',
        description: 'Thành phần bánh gồm một pound cho mỗi thành phần sau: bột mì, bơ, đường và trứng',
        assess: '😍😍😍😍😒 ',
        sold: 'Đã bán: 90,2 k',
        money: '204.600 ',
        Image:  'image/banh_PoundCake.jpg'
    },
    {
        id: 27,
        name: 'Bánh Sachertorte',
        description: 'Nguyên bản là một trong những loại bánh ngọt ngon nhất thế giới của Áo và chất lượng cao với phần socola.',
        assess: '😍😍😍😍😒 ',
        sold: 'Đã bán: 190,2 k',
        money: '304.600 ',
        Image:  'image/banh_Sachertorte.jpg'
    },
    {
        id: 28,
        name: 'Bánh Kirschtorte',
        description: 'Sử dụng rượu mạnh để tạo lớp socola hoặc để tạo hương vị nhẹ cho phần kem, socola bào và quả anh đào.',
        assess: '😍😍😍😒😒 ',
        sold: 'Đã bán: 230,2 k',
        money: '128.600 ',
        Image:  'image/banh_SchwarzwälderKirschtorte.jpg'
    }
]

ListProduct.forEach((product)=>{
    let htmls = `
        <div class="col-md-3 col-sm-6 d-flex justify-content-center mb-3">
            <div class="card" style="width: 20rem;">
                <div class="card-img w-100" >
                    <img src="${product.Image}" class="card-img-top w-100" alt="...">
                </div>
                <div class="card-body text-center">
                    <h5 class="card-title fw-bold">${product.name}</h5>
                    <span>${product.money}VND</span>
                    
                </div>
                <div class="btn MuaHangBtn d-inline-block border-0" >
                    <button type="button" class="btn text-white mb-3" onclick ="addToCart(${product.id})"> Mua Hàng Ngay</button>
                </div>
            </div>
        </div> 
    `
    document.querySelector('.Page1').innerHTML += htmls
})

let listCart = JSON.parse(localStorage.getItem("listCart"));
if(listCart){
    listCart.forEach((product)=>{
        console.log(listCart)
        let htmls = `
            <div class="product-cart d-flex justify-content-around align-items-center border-bottom border-1">
                <span class="cart-img" style="width: 50px;">
                    <a href="" class="img-zoom w-100 ">
                        <img class="w-100" src="${product.Image}" alt="">
                    </a>
                </span>
                <span style ="width:230px;">
                    <b>${product.name}</b>
                </span>
                <span class="">
                    <input style="width: 30px; outline:none;" type="number" value="1" min="0">
                </span>
                <span style="width:80px"><b>${product.money} đ</b></span>
                <i class="fa-solid fa-trash-can ms-3" onclick ="DeleteProduct(${product.id})"></i>
            </div>
        `
        document.querySelector('.cart-body').innerHTML = document.querySelector('.cart-body').innerHTML + htmls
    });
}

function addToCart(index){
    let ProductChoice;
    
    let checkId = false;
    ListProduct.forEach((product)=> {
        if(product.id == index){
            ProductChoice = product;
            console.log(product)
        }
    })

    if(listCart){
        listCart.forEach((product)=>{
            if(product.id == index){
                checkId = true
            }
        })
        if(!checkId){
            listCart.push(ProductChoice)
        }
    }
    else{
        listCart = [ProductChoice]
    }

    localStorage.setItem("listCart", JSON.stringify(listCart));

    // load lại dữ liệu
    document.querySelector('.cart-body').innerHTML = "";
    listCart.forEach((product)=>{
        console.log(listCart)
        let htmls = `
            <div class="product-cart d-flex justify-content-around align-items-center border-bottom border-1">
                <span class="cart-img" style="width: 60px;">
                    <a href="" class="img-zoom w-100 ">
                        <img class="w-100" src="${product.Image}" alt="">
                    </a>
                </span>
                <span style ="width:230px;">
                    <b>${product.name}</b>
                </span>
                <span class="">
                    <b>1</b>
                </span>
                <span><b>${product.money} đ</b></span>
                <i class="fa-solid fa-trash-can ms-3" onclick ="DeleteProduct(${product.id})"></i>
            </div>
        `
        document.querySelector('.cart-body').innerHTML = document.querySelector('.cart-body').innerHTML + htmls
    });
}

// Xoá

function DeleteProduct(id){
    listCart.forEach((product, index)=>{
        if(product.id == id){
            listCart.splice(index, 1)
        }
    });
    localStorage.setItem("listCart", JSON.stringify(listCart));

    document.querySelector(".cart-body").innerHTML = "";
    listCart.forEach((product)=>{
        let htmls = `
            <div class="product-cart d-flex justify-content-around align-items-center border-bottom border-1">
                <span class="cart-img" >
                    <a href="" class="img-zoom w-100">
                        <img class="w-100" src="${product.Image}" alt="">
                    </a>
                </span>
                <span style ="width:230px;">
                    <b>${product.name}</b>
                </span>
                <span class="ms-3">
                    <b>1</b>
                </span>
                <span><b>${product.money} đ</b></span>
                <i class="fa-solid fa-trash-can ms-3" onclick ="DeleteProduct(${product.id})"></i>
            </div>
        `
        document.querySelector('.cart-body').innerHTML = document.querySelector('.cart-body').innerHTML + htmls
    });
}

$(document).ready(function(){
    $(window).scroll(function(){
        if($(this).scrollTop()){
            $('#backtop').fadeIn();
        }else{
            $('#backtop').fadeOut();
        }
    });
    $('#backtop').click(function(){
        $('html, body').animate({
            scrollTop: 0
        },500)
    });
});